<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" 
			   xmlns:panel="ch.plannr.view.panel.*" 
			   xmlns:common="ch.plannr.view.common.*" 
			   xmlns:configuration="ch.plannr.client.configuration.*" 
			   xmlns:swiz="http://swiz.swizframework.org" xmlns:config="ch.plannr.config.*">
	<fx:Declarations>
		<swiz:Swiz>
			<swiz:beanProviders><config:Beans /></swiz:beanProviders>
			<swiz:config><swiz:SwizConfig eventPackages="ch.plannr.event.*" viewPackages="ch.plannr.view.*"/></swiz:config>
		</swiz:Swiz>
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import ch.plannr.view.component.BoxRegister;
			
			[Mediate( event="Events.LOGIN_SUCCESS")]
			public function handle_registration_success():void{
				currentState="LOGGED_IN"
			}
		]]>
	</fx:Script>
	<fx:Style source="styles.css"/>
	<s:states>
		<s:State name="NOT_LOGGED_IN" id="NOT_LOGGED_IN"/>
		<s:State name="LOGGED_IN" id="LOGGED_IN"/>
	</s:states>
	<s:layout>
		<s:VerticalLayout/>
	</s:layout>
	<common:Header/>
	<panel:PanelMain includeIn="LOGGED_IN"/>
	<panel:PanelSplash includeIn="NOT_LOGGED_IN" horizontalAlign="center"/>
</s:Application>
