<?xml version="1.0" encoding="utf-8"?>
<s:NavigatorContent label="Teams" width="100%" height="100%"  
					xmlns:fx="http://ns.adobe.com/mxml/2009" 
					xmlns:s="library://ns.adobe.com/flex/spark" 
					xmlns:mx="library://ns.adobe.com/flex/mx">
	<fx:Script>
		<![CDATA[
			import ch.plannr.event.CustomEvent;
			import ch.plannr.event.Events;
			import ch.plannr.event.TeamSelectedEvent;
			import ch.plannr.model.Team;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			[Bindable]
			[Inject(source="context.selectedTeam", bind="true",twoWay="true")]
			public var selectedTeam:Team = null;
			
			[Bindable]
			[Inject(source="context.ownedTeams", bind="true")]
			public var ownedTeams:ArrayCollection = null;
			
			
			public function selectTeam():void{
				selectedTeam=cbTeam.selectedItem;
			}
		]]>
	</fx:Script>
	<s:states>
		<s:State name="MANAGE_TEAM"/>
		<s:State name="CREATE_TEAM"/>
	</s:states>
	<s:BorderContainer width="100%" height="100%" >
		<mx:VDividedBox width="30%" height="100%" borderColor="#E81818" minWidth="410">
			<mx:Form width="100%" height="100%" id="editTeamForm" includeIn="MANAGE_TEAM">
				<mx:FormItem label="Choose Team">
					<s:DropDownList dataProvider="{ownedTeams}" labelField="name" change="selectTeam()" width="250" id="cbTeam" />
				</mx:FormItem>
				<mx:Spacer height="30"/>
				<mx:FormItem label="Team Name:" visible="{selectedTeam!=null}">
					<s:TextInput text="{selectedTeam.name}" width="200"/>
				</mx:FormItem>
				<mx:FormItem label="Team Description:" visible="{selectedTeam!=null}">
					<s:TextArea text="{selectedTeam.description}" width="200" height="100"/>
				</mx:FormItem>
				<mx:Spacer height="30" visible="{selectedTeam!=null}"/>
				<mx:FormItem visible="{selectedTeam!=null}">
					<mx:HBox>
						<s:Button label="Edit Team"/>
						<s:Button label="Delete Team"/>
					</mx:HBox>
				</mx:FormItem>
			</mx:Form>
			<mx:Form width="100%" height="100%" id="createTeamForm" includeIn="CREATE_TEAM">
				<mx:FormItem label="Team Name:">
					<s:TextInput id="createTeamName" width="200"/>
				</mx:FormItem>
				<mx:FormItem label="Team Description:">
					<s:TextArea id="createTeamDescription" width="200" height="100"/>
				</mx:FormItem>
				<mx:Spacer height="30"/>
				<mx:FormItem>
					<mx:HBox>
						<s:Button label="Edit Team"/>
						<s:Button label="Delete Team"/>
					</mx:HBox>
				</mx:FormItem>
			</mx:Form>
		</mx:VDividedBox>
		<mx:VDividedBox width="70%" height="100%" visible="{selectedTeam!=null}">
			<mx:AdvancedDataGrid width="100%" height="40%" sortExpertMode="true" dataProvider="{selectedTeam.members}">
				<mx:columns>
					<mx:AdvancedDataGridColumn dataField="firstname" headerText="Firstname"/>
					<mx:AdvancedDataGridColumn dataField="lastname" headerText="Lastname"/>
					<mx:AdvancedDataGridColumn headerText="Delete">
						<mx:itemRenderer>
							<fx:Component>
								<mx:Box horizontalAlign="center" width="100%" render="{false}	">
									<mx:Button label="Delete" />
								</mx:Box>
							</fx:Component>
						</mx:itemRenderer>
					</mx:AdvancedDataGridColumn>
				</mx:columns>
			</mx:AdvancedDataGrid>
			<s:VGroup width="100%" height="60%">
				
			</s:VGroup>
		</mx:VDividedBox>
	</mx:HDividedBox>
</s:NavigatorContent>
