package ch.plannr.controller
{
	import mx.controls.Alert;

	public class TeamController
	{
		[Mediate( event="Events.LOGIN_SUCCESS")]
		public function loadOwnedTeams() : void
		{
			function handleLoginResult( event : ResultEvent ) : void
			{
				var xml:XML = new XML(event.result);
				dispatcher.dispatchEvent(new CustomEvent((xml.@success=='true')?Events.LOGIN_SUCCESS:Events.LOGIN_FAILURE));
			}
			
			function handleLoginFault( event : FaultEvent ) : void
			{
				dispatcher.dispatchEvent(new CustomEvent(Events.LOGIN_FAILURE));
			}
			
			Alert.show("loading teams");
			//serviceHelper.executeServiceCall( httpServiceFactory.getService("/webservices/login","POST",true).send(<null/>), handleLoginResult,handleLoginFault );
		}
	}
}